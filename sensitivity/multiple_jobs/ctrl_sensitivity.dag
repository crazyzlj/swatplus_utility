# ctrl_sensitivity.dag
# This is the main workflow DAG for Parameter Sensitivity Analysis.
# Put ctrl_sensitivity.dag, ctrl_sensitivity_sample_job.sub, ctrl_sensitivity_analyze_job.sub
#   in the same folder with __init__.py

# --- 1. Prepare inputs and worker_jobs.dag for multiple jobs ---
JOB PREPARE_JOBS ctrl_sensitivity_sample_job.sub

# --- 2. Submit all worker jobs ---
# This is a sub-DAG, generated by PREPARE_JOBS
SUBDAG EXTERNAL RUN_WORKERS worker_jobs.dag

# --- Step 3: Gather results and check ---
JOB GATHER_ANALYSIS ctrl_sensitivity_analyze_job.sub

# --- Dependence relations ---
PARENT PREPARE_JOBS CHILD RUN_WORKERS
PARENT RUN_WORKERS CHILD GATHER_ANALYSIS
